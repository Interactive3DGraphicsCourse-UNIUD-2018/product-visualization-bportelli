<!DOCTYPE html>
<html>
<head>
<title>W3.CSS Template</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="w3.css">
<link rel="stylesheet" href="https://www.w3schools.com/lib/w3-theme-black.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
html,body,h1,h2,h3,h4,h5,h6 {font-family: "Roboto", sans-serif;}
.w3-sidebar {
  z-index: 3;
  width: 250px;
  top: 43px;
  bottom: 0;
  height: inherit;
}

</style>
<script src="lib/three.min.js"></script>
		<script src="lib/stats.min.js"></script>
		<script src="lib/GLTFLoader.js"></script>
		<script src="lib/OBJLoader.js"></script>
		<script src="lib/EXRLoader.js"></script>
		<script src="lib/OrbitControls.js"></script>
</head>
<body class="w3-content w3-border-left w3-border-right" style="max-width:1200px" onload="Init();">

<script src="auxFunctions.js"></script>
<script src="init.js"></script>


<!-- Navbar -->
<div class="w3-top">
  <div class="w3-bar w3-theme w3-top w3-left-align w3-large" style="max-width:1200px">
    <a class="w3-bar-item w3-button w3-left w3-hide-large w3-hover-white w3-large w3-theme-l1" href="javascript:void(0)" onclick="w3_open()"><i class="fa fa-bars"></i></a>
    <a href="#" class="w3-bar-item w3-button w3-theme-l1">t1</a>
    <a href="#" class="w3-bar-item w3-button w3-hide-small w3-hover-white">t2</a>
    <a href="#" class="w3-bar-item w3-button w3-hide-small w3-hover-white">t3</a>
    <a href="#" class="w3-bar-item w3-button w3-hide-small w3-hover-white">t4</a>
    <a href="#" class="w3-bar-item w3-button w3-hide-small w3-hover-white">t5</a>
    <a href="#" class="w3-bar-item w3-button w3-hide-small w3-hide-medium w3-hover-white">t6</a>
    <a href="#" class="w3-bar-item w3-button w3-hide-small w3-hide-medium w3-hover-white">t7</a>
  </div>
</div>

<!-- Sidebar/menu -->
<nav class="w3-sidebar w3-light-grey w3-collapse" id="mySidebar">
  <div class="w3-container w3-display-container w3-padding-16">
    <i onclick="w3_close()" class="fa fa-remove w3-hide-large w3-button w3-transparent w3-display-topright"></i>	
	<div class="w3-border-top w3-border-bottom w3-border-left w3-border-right w3-padding w3-border-grey w3-margin-bottom">
		<h5><strong>Body</strong></h5>
		<p><strong>Material</strong></p>
		<select id="bodyMat" class="w3-select" onchange="changeMaterial(0)">
		  <option selected="selected" value="plastic">Plastic</option>
		  <option value="metal">Metal</option>
		  <option value="woven">Woven</option>
		  <option value="wood">Wood</option>
		</select>
			<p><strong>Color</strong></p>
			<div align=center>
			<button type="button" onclick="changeCol(0,'red')" class="color-button w3-red"/>
			<button type="button" onclick="changeCol(0,'green')" class="color-button w3-green"/>
			<button type="button" onclick="changeCol(0,'dark-blue')" class="color-button w3-dark-blue"/>
			</div>
			<div align=center>
			<button type="button" onclick="changeCol(0,'orange')" class="color-button w3-orange"/>
			<button type="button" onclick="changeCol(0,'black')" class="color-button w3-black"/>
			<button type="button" onclick="changeCol(0,'cyan')" class="color-button w3-cyan"/>
			<button type="button" onclick="changeCol(0,'white')" class="color-button w3-white" style="border:1px solid #bbb"/>
			</div>
			<div align=center>
			<button type="button" onclick="changeCol(0,'purple')" class="color-button w3-purple"/>
			<button type="button" onclick="changeCol(0,'yellow')" class="color-button w3-yellow"/>
			<button type="button" onclick="changeCol(0,'pink')" class="color-button w3-pink"/>
			</div>
	</div>
	
	<div class="w3-border-top w3-border-bottom w3-border-left w3-border-right w3-padding w3-border-grey w3-margin-bottom">
		<h5><strong>Point and clip</strong></h5>
		<p><strong>Material</strong></p>
		<select id="accentMat" class="w3-select" onchange="changeMaterial(1)">
		  <option value="plastic">Plastic</option>
		  <option value="metal" selected="selected">Metal</option>
		</select>
		
		<div id="accentOptions">
			<p><strong>Color</strong></p>
			<div align=center>
			<button type="button" onclick="changeCol(1,'red')" class="color-button w3-red"/>
			<button type="button" onclick="changeCol(1,'green')" class="color-button w3-green"/>
			<button type="button" onclick="changeCol(1,'dark-blue')" class="color-button w3-dark-blue"/>
			</div>
			<div align=center>
			<button type="button" onclick="changeCol(1,'orange')" class="color-button w3-orange"/>
			<button type="button" onclick="changeCol(1,'black')" class="color-button w3-black"/>
			<button type="button" onclick="changeCol(1,'cyan')" class="color-button w3-cyan"/>
			<button type="button" onclick="changeCol(1,'white')" class="color-button w3-white" style="border:1px solid #bbb"/>
			</div>
			<div align=center>
			<button type="button" onclick="changeCol(1,'purple')" class="color-button w3-purple"/>
			<button type="button" onclick="changeCol(1,'yellow')" class="color-button w3-yellow"/>
			<button type="button" onclick="changeCol(1,'pink')" class="color-button w3-pink"/>
			</div>
		</div>
	</div>
	
	<div class="w3-border-top w3-border-bottom w3-border-left w3-border-right w3-padding w3-border-grey w3-margin-bottom">
		<h5><strong>Ink Color</strong></h5>
		<div id="accentOptions">
			<div align=center>
			<button type="button" onclick="changeCol(2,'black')" class="color-button w3-black"/>
			<button type="button" onclick="changeCol(2,'blue')" class="color-button w3-dark-blue"/>
			<button type="button" onclick="changeCol(2,'red')" class="color-button w3-red"/>
			<button type="button" onclick="changeCol(2,'green')" class="color-button w3-green"/>
			</div>
		</div>
	</div>
  </div>
</nav>

<!-- Overlay effect when opening sidebar on small screens -->
<div class="w3-overlay w3-hide-large" onclick="w3_close()" style="cursor:pointer" title="close side menu" id="myOverlay"></div>

<!-- Main content: shift it to the right by 250 pixels when the sidebar is visible -->
<div class="w3-main" style="margin-left:250px">

  <!-- !PAGE CONTENT! -->

  <!-- Push down content -->
  <div style="margin-top:50px"></div>

  <!-- Slideshow Header -->
  <div class="w3-container" id="main_div">
  
    <h2 class="w3-text-black w3-xxlarge">Customizable ballpoint pen</h2>
	
    <div class="w3-display-container mySlides">

		<canvas id="product_canvas" style="margin-bottom:-6px"> </canvas>
		<div class="w3-display-bottomleft w3-container w3-black">
			<p id="view_description">3D View</p>
		</div>
		
		
	  
	  <!--
	  <div class="w3-display-topright w3-container w3-black" style="text-align:center; font-family:monospace">
        <p id="zoomIn_btn" onclick="zoomIn()" style="cursor:pointer">+</p>
		<p id="cameraReset_btn" onclick="cameraReset()" style="cursor:pointer">o</p>
		<p id="zoomOut_btn" onclick="zoomOut()" style="cursor:pointer">-</p>
      </div>
	  -->


    </div>
	
	<div class="mySlider">
		<div class=" w3-black slidecontainer">
				<input type="range" min="0" max="50" value="0" class="slider" oninput="zoom(1, this.value)">
		</div>
		<div class=" w3-black slidecontainer">
				<input type="range" min="1" max="10" value="1" class="slider" oninput="zoom(2, this.value)" >
		</div>
		<div class=" w3-black slidecontainer">
				<input type="range" min="1" max="10" value="1" class="slider" oninput="zoom(3, this.value)">
		</div>
		<div class=" w3-black slidecontainer">
				<input type="range" min="1" max="10" value="1" class="slider" oninput="zoom(4, this.value)">
		</div>
	</div>
	
  </div>
  
  <!-- Slideshow previews -->
  <div class="w3-row-padding w3-section" align=center id="previews">
	
    <div class="w3-col s3" style="width:20%">
      <img class="demo w3-opacity w3-hover-opacity-off" src="/images/3D.jpg" style="width:100%;cursor:pointer" onclick="change_camera(1)" title="3D View">
    </div>
    <div class="w3-col s3" style="width:20%">
      <img class="w3-border-top w3-border-bottom w3-border-left w3-border-right
	              w3-border-green demo w3-opacity w3-hover-opacity-off"
				  src="/images/point.jpg" style="width:100%;cursor:pointer" onclick="change_camera(2)" title="Point">
    </div>
	<div class="w3-col s3" style="width:20%">
      <img class="w3-border-top w3-border-bottom w3-border-left w3-border-right
	              w3-border-green demo w3-opacity w3-hover-opacity-off"
				  src="/images/body.jpg" style="width:100%;cursor:pointer" onclick="change_camera(3)" title="Body">
    </div>
	<div class="w3-col s3" style="width:20%">
      <img class="w3-border-top w3-border-bottom w3-border-left w3-border-right
	              w3-border-green demo w3-opacity w3-hover-opacity-off"
				  src="/images/clip.jpg" style="width:100%;cursor:pointer" onclick="change_camera(4)" title="Clip">
    </div>
  </div>

  <!-- Text under slideshow -->
  <div class="w3-container">
    
    <h4><strong>Extra Info</strong></h4>
    <p>Our apartment is really clean and we like to keep it that way. Enjoy the lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
    <hr>
    
    <h4><strong>Rules</strong></h4>
    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
    <p>Subscribe to receive updates on available dates and special offers.</p>
  </div>  

  <footer class="w3-container w3-padding-16" style="margin-top:32px">Powered by <a href="https://www.w3schools.com/w3css/default.asp" title="W3.CSS" target="_blank" class="w3-hover-text-green">w3.css</a></footer>

<!-- End page content -->

<!-- END MAIN -->
</div>

<script>
// Get the Sidebar
var mySidebar = document.getElementById("mySidebar");

// Get the DIV with overlay effect
var overlayBg = document.getElementById("myOverlay");

// Toggle between showing and hiding the sidebar, and add overlay effect
function w3_open() {
    if (mySidebar.style.display === 'block') {
        mySidebar.style.display = 'none';
        overlayBg.style.display = "none";
    } else {
        mySidebar.style.display = 'block';
        overlayBg.style.display = "block";
    }
}

// Close the sidebar with the close button
function w3_close() {
    mySidebar.style.display = "none";
    overlayBg.style.display = "none";
}

// Slideshow Apartment Images
var slideIndex = 1;
showDivs(slideIndex);

function plusDivs(n) {
  showDivs(slideIndex += n);
}

function currentDiv(n) {
  showDivs(slideIndex = n);
}

function change_camera(n) {
	var par = document.getElementById("view_description");
	switch(n) {
		case 1: camera = camera1; par.innerHTML="3D View"; controls.enabled=true; break;
		case 2: camera = camera2; par.innerHTML="Point"; controls.enabled=false; break;
		case 3: camera = camera3; par.innerHTML="Body"; controls.enabled=false; break;
		case 4: camera = camera4; par.innerHTML="Clip"; controls.enabled=false; break;
		default: camera = camera1;
	}
	showDivs(n);
}

function zoom(n, dist) {
	switch(n) {
		case 1: camera1.position.setLength(camera.startDist-dist); camera1.updateProjectionMatrix(); break;
		case 2: camera2.zoom = dist; camera2.updateProjectionMatrix(); break;
		case 3: camera3.zoom = dist; camera3.updateProjectionMatrix(); break;
		case 4: camera4.zoom = dist; camera4.updateProjectionMatrix(); break;
		default:
	}
}

function showDivs(n) {
  var i;
  var x = document.getElementsByClassName("slidecontainer");
  var dots = document.getElementsByClassName("demo");
  if (n > x.length) {slideIndex = 1}
  if (n < 1) {slideIndex = x.length}
  for (i = 0; i < x.length; i++) {
     x[i].style.display = "none";
  }
  x[n-1].style.display = "block";
}

function cameraReset() {
	camera1.position.z = 70;
	camera1.position.y = 70;
	camera1.position.x = 0;
	//camera1.rotation.x = 0;
	//camera1.rotation.y = 0;
	//camera1.rotation.z = 0;
	camera.zoom = 1;
	camera.updateProjectionMatrix();
}

var colors = Array();
colors['red'] =	new THREE.Vector3(1., 0., 0.);
colors['green'] = new THREE.Vector3(0., 1., 0.);
colors['dark-blue'] = new THREE.Vector3(0., 0., .5);
colors['blue'] = new THREE.Vector3(0., 0., 1.);
colors['orange'] = new THREE.Vector3(1., .5, 0.);
colors['black'] = new THREE.Vector3(0., 0., 0.);
colors['cyan'] = new THREE.Vector3(.0, 1., 1.);
colors['white'] = new THREE.Vector3(1., 1., 1.);
colors['purple'] = new THREE.Vector3(.6, 0., .8);
colors['yellow'] = new THREE.Vector3(1., 1., 0.);
colors['pink'] = new THREE.Vector3(1., 0., .5);

function changeCol(n, colName) {
	switch(n){
		case 0: bodyParts_uniforms.surfCdiff.value = colors[colName]; break;
		case 1: accentParts_uniforms.surfCdiff.value = colors[colName]; break;
		case 2: ballpoint_uniforms.surfCdiff.value = colors[colName]; break;
	}
}

function changeMaterial(n){
	switch(n){
		case 0:
			var selector= document.getElementById('bodyMat');
			var itemvalue= selector.options[selector.selectedIndex].text;
			if (itemvalue==='Plastic') Object.assign(bodyParts_uniforms, uniforms_plastic);
			if (itemvalue==='Woven') Object.assign(bodyParts_uniforms, uniforms_fabric);
			if (itemvalue==='Metal') Object.assign(bodyParts_uniforms, uniforms_smoothMetal);
			if (itemvalue==='Wood') Object.assign(bodyParts_uniforms, uniforms_wood);
			break;
		case 1:
			var selector= document.getElementById('accentMat');
			var itemvalue= selector.options[selector.selectedIndex].text;
			if (itemvalue==='Plastic') Object.assign(accentParts_uniforms, uniforms_plastic);
			if (itemvalue==='Metal') Object.assign(accentParts_uniforms, uniforms_smoothMetal);
			if (itemvalue==='Wood') Object.assign(accentParts_uniforms, uniforms_wood);
			break;
	}
}
	

</script>

</body>
</html>
