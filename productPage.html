<!DOCTYPE html>
<html>
<head>
<title>W3.CSS Template</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="w3_mod.css">
<link rel="stylesheet" href="https://www.w3schools.com/lib/w3-theme-black.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
html,body,h1,h2,h3,h4,h5,h6 {font-family: "Roboto", sans-serif;}
.w3-sidebar {
  z-index: 3;
  width: 250px;
  top: 43px;
  bottom: 0;
  height: inherit;
}

</style>
<script src="lib/three.min.js"></script>
		<script src="lib/stats.min.js"></script>
		<script src="lib/GLTFLoader.js"></script>
		<script src="lib/OBJLoader.js"></script>
		<script src="lib/EXRLoader.js"></script>
		<script src="lib/OrbitControls.js"></script>
</head>
<body class="w3-content w3-border-left w3-border-right" style="max-width:1200px" onload="Init();">

<script src="auxFunctions.js"></script>
<script src="init.js"></script>


<!-- Navbar -->
<div class="w3-top" >
  <div class="w3-bar w3-theme w3-top w3-left-align w3-large w3-black" style="max-width:1200px">
    <a href="#" class="w3-bar-item w3-button w3-theme-l1">Choose by Category</a>
    <a href="#" class="w3-bar-item w3-button w3-hide-small w3-hover-white">Offers</a>
    <a href="#" class="w3-bar-item w3-button w3-hide-small w3-hover-white">Gift Cards</a>
    <a href="#" class="w3-bar-item w3-button w3-hide-small w3-hover-white">Help</a>
    
    <a href="#" class="w3-bar-item w3-button w3-hide-small w3-hide-medium w3-hover-white w3-right w3-red"> <i class="fa fa-shopping-cart"></i> Cart	</a>
	<a href="#" class="w3-bar-item w3-button w3-hide-small w3-hover-white w3-right">Sign In</a>
	
  </div>
</div>


<!-- !PAGE CONTENT! -->

<!-- Push down content -->
  <div style="margin-top:40px"></div>
  
   <img src="images/bannerACME.jpg" style="max-width:1200px" title="banner ACME">
  
<div> <!-- Start stuff to push down -->
  

<div class="w3-sidebar w3-col s3 w3-collapse"  style="width:250px" id="mySidebar">

<nav >

  <div class="w3-container w3-display-container w3-padding-16">
    <i onclick="w3_close()" class="fa fa-remove w3-red w3-hide-large w3-button w3-transparent w3-display-topright"></i>	
	<div class="w3-border-top w3-border-bottom w3-border-left w3-border-right w3-padding w3-border-grey w3-margin-bottom w3-light-grey">
		<h5><strong>Body</strong></h5>
		<p><strong>Material</strong></p>
		<select id="bodyMat" class="w3-select" onchange="changeMaterial(0)">
		  <option selected="selected" value="plastic">Plastic</option>
		  <option value="metal">Metal</option>
		  <option value="woven">Woven</option>
		  <option value="wood">Wood</option>
		</select>
			<p><strong>Color</strong></p>
			<div align=center>
			<button type="button" onclick="changeCol(0,'red')" class="color-button w3-red"/>
			<button type="button" onclick="changeCol(0,'green')" class="color-button w3-green"/>
			<button type="button" onclick="changeCol(0,'dark-blue')" class="color-button w3-dark-blue"/>
			</div>
			<div align=center>
			<button type="button" onclick="changeCol(0,'orange')" class="color-button w3-orange"/>
			<button type="button" onclick="changeCol(0,'black')" class="color-button w3-black"/>
			<button type="button" onclick="changeCol(0,'cyan')" class="color-button w3-cyan"/>
			<button type="button" onclick="changeCol(0,'white')" class="color-button w3-white" style="border:1px solid #bbb"/>
			</div>
			<div align=center>
			<button type="button" onclick="changeCol(0,'purple')" class="color-button w3-purple"/>
			<button type="button" onclick="changeCol(0,'yellow')" class="color-button w3-yellow"/>
			<button type="button" onclick="changeCol(0,'pink')" class="color-button w3-pink"/>
			</div>
	</div>
	
	<div class="w3-border-top w3-border-bottom w3-border-left w3-border-right w3-padding w3-border-grey w3-margin-bottom w3-light-grey">
		<h5><strong>Point and clip</strong></h5>
		<p><strong>Material</strong></p>
		<select id="accentMat" class="w3-select" onchange="changeMaterial(1)">
		  <option value="plastic">Plastic</option>
		  <option value="metal" selected="selected">Metal</option>
		</select>
		
		<div id="accentOptions">
			<p><strong>Color</strong></p>
			<div align=center>
			<button type="button" onclick="changeCol(1,'red')" class="color-button w3-red"/>
			<button type="button" onclick="changeCol(1,'green')" class="color-button w3-green"/>
			<button type="button" onclick="changeCol(1,'dark-blue')" class="color-button w3-dark-blue"/>
			</div>
			<div align=center>
			<button type="button" onclick="changeCol(1,'orange')" class="color-button w3-orange"/>
			<button type="button" onclick="changeCol(1,'black')" class="color-button w3-black"/>
			<button type="button" onclick="changeCol(1,'cyan')" class="color-button w3-cyan"/>
			<button type="button" onclick="changeCol(1,'white')" class="color-button w3-white" style="border:1px solid #bbb"/>
			</div>
			<div align=center>
			<button type="button" onclick="changeCol(1,'purple')" class="color-button w3-purple"/>
			<button type="button" onclick="changeCol(1,'yellow')" class="color-button w3-yellow"/>
			<button type="button" onclick="changeCol(1,'pink')" class="color-button w3-pink"/>
			</div>
		</div>
	</div>
	
	<div class="w3-border-top w3-border-bottom w3-border-left w3-border-right w3-padding w3-border-grey w3-margin-bottom w3-light-grey">
		<h5><strong>Ink Color</strong></h5>
		<div id="accentOptions">
			<div align=center>
			<button type="button" onclick="changeCol(2,'black')" class="color-button w3-black"/>
			<button type="button" onclick="changeCol(2,'blue')" class="color-button w3-dark-blue"/>
			<button type="button" onclick="changeCol(2,'red')" class="color-button w3-red"/>
			<button type="button" onclick="changeCol(2,'green')" class="color-button w3-green"/>
			</div>
		</div>
	</div>
  </div>
</nav>

</div>

<!-- Overlay effect when opening sidebar on small screens -->
<div class="w3-overlay w3-hide-large" onclick="w3_close()" style="cursor:pointer" title="close side menu" id="myOverlay"></div>


<div class="w3-main" style="margin-left:250px">

	<div class="w3-col" align=center style="padding-left:25px;padding-right:25px">
	
	<!-- Slideshow Header -->
	
	  <div class="w3-container" id="main_div">
	  
		<h2 class="w3-text-black w3-xxlarge" align=left>Customizable ballpoint pen</h2>

		<div class="w3-display-container mySlides">

			<canvas id="product_canvas" style="margin-bottom:-6px"> </canvas>
			<div class="w3-display-bottomleft w3-container w3-black">
				<p id="view_description">3D View</p>
			</div>
			
			
		  
		  <!--
		  <div class="w3-display-topright w3-container w3-black" style="text-align:center; font-family:monospace">
			<p id="zoomIn_btn" onclick="zoomIn()" style="cursor:pointer">+</p>
			<p id="cameraReset_btn" onclick="cameraReset()" style="cursor:pointer">o</p>
			<p id="zoomOut_btn" onclick="zoomOut()" style="cursor:pointer">-</p>
		  </div>
		  -->


		</div>
		
		<div class="mySlider">
			<div class=" w3-black slidecontainer">
					<input type="range" min="0" max="50" value="0" class="slider" oninput="zoom(1, this.value)">
			</div>
			<div class=" w3-black slidecontainer">
					<input type="range" min="1" max="10" value="1" class="slider" oninput="zoom(2, this.value)" >
			</div>
			<div class=" w3-black slidecontainer">
					<input type="range" min="1" max="10" value="1" class="slider" oninput="zoom(3, this.value)">
			</div>
			<div class=" w3-black slidecontainer">
					<input type="range" min="1" max="10" value="1" class="slider" oninput="zoom(4, this.value)">
			</div>
		</div>
		
	  </div>
	  
	  <!-- Slideshow previews -->
	  <div class="w3-row-padding w3-section" align=center id="previews">

		<div class="w3-col s3" style="width:20%">
		  <img class="demo w3-opacity w3-hover-opacity-off
					  w3-hide-large"
					  src="images/customize.jpg" style="width:100%;cursor:pointer" onclick="w3_open()" title="Customize">
		</div>
		<div class="w3-col s3" style="width:20%">
		  <img class="demo w3-opacity w3-hover-opacity-off" src="images/3D.jpg" style="width:100%;cursor:pointer" onclick="change_camera(1)" title="3D View">
		</div>
		<div class="w3-col s3" style="width:20%">
		  <img class="w3-border-top w3-border-bottom w3-border-left w3-border-right
					  w3-border-green demo w3-opacity w3-hover-opacity-off"
					  src="images/point.jpg" style="width:100%;cursor:pointer" onclick="change_camera(2)" title="Point">
		</div>
		<div class="w3-col s3" style="width:20%">
		  <img class="w3-border-top w3-border-bottom w3-border-left w3-border-right
					  w3-border-green demo w3-opacity w3-hover-opacity-off"
					  src="images/body.jpg" style="width:100%;cursor:pointer" onclick="change_camera(3)" title="Body">
		</div>
		<div class="w3-col s3" style="width:20%">
		  <img class="w3-border-top w3-border-bottom w3-border-left w3-border-right
					  w3-border-green demo w3-opacity w3-hover-opacity-off"
					  src="images/clip.jpg" style="width:100%;cursor:pointer" onclick="change_camera(4)" title="Clip">
		</div>
		
	  </div>
	
	</div>

	<div class="w3-col s3" style="width:70%;padding-left:25px">

	  <!-- Text under slideshow -->
	  <div class="w3-container">
	  
	  <h3 class="w3-text-green w3-xlarge"><strong>Product description:</strong></h3>
	  
	  <div class="w3-container">
		<h4><strong>A new spin on an old design!</strong></h4>
		<p>It is you old, beloved ballpoint pen, and it will always be. A round, comfortable and easy-to-grip body. A strong and realiable spring mechanism. A fine point and the right ink, for a seamless writing experience.</p>
		<p>But everything presented to you in a new style: do you work in a serious office or are you a crazy highschooler? We've got you covered!</p>
		
		<h4><strong>Top quality materials only!</strong></h4>
		<p>Just like any other of our products, the Customizable Ballpoint Pen is made of the best materials to provide an enjoyable, reliable and long-lasting writing experience.</p>
		<p>Everything, from the atossic plastic, to the environmental-friendly wood, has been chosen to be both beautiful and durable!</p>
		
		<h4><strong>Exclusive: made for you!</strong></h4>
		<p>Choose you combination to fit your style or create the perfect gift for your friend! Stay tuned for special occasions and limited-time styles.</p>
		</div>
		
		<p class="w3-small"><strong>ATTENTION:</strong> The colors in the photos may differ slightly from the real product because of the light setting. The photos and the 3D view are 3D reconstruction of the real product.</p>
		
	  </div>  

	  <footer class="w3-container w3-padding-16" style="margin-top:32px">Powered by <a href="https://www.w3schools.com/w3css/default.asp" title="W3.CSS" target="_blank" class="w3-hover-text-green">w3.css</a></footer>

	</div>

	<div class="w3-container w3-display-container w3-padding-16 w3-col s3" style="width:30%;padding-right:25px">
	
		<div class="w3-border-top w3-border-bottom w3-border-left w3-border-right w3-padding w3-border-grey w3-margin-bottom w3-light-grey">
		<h5><strong>Price</strong></h5>
		
		<p>Body:
		<strong id="body_material_price"></strong></p>
		
		<p>Point and clip:
		<strong id="point_material_price"></strong></p>
		
		<p>Quantity:</p>
		<select id="quantity" class="w3-select" onchange="calculate_price()">
		  <option selected="selected">1</option>
		  <script> for (i=2; i<31; i++) { document.write("<option>"+i+"</option>"); } </script>
		</select>
		
		<h5 >Total:<br>
		<strong class="w3-xxlarge w3-text-green" id="total_price"></strong></h5>
		
		<div align=center><button type="button" class="w3-button w3-red"> Add to cart </button></div>
		
		</div>
	
	</div>
</div>

</div> <!-- End stuff to push down -->
  
<!-- End page content -->


<!-- END MAIN -->


<script>
var body_price = 0.20;
var point_price = 0.20;

// Get the Sidebar
var mySidebar = document.getElementById("mySidebar");

// Get the DIV with overlay effect
var overlayBg = document.getElementById("myOverlay");

// Toggle between showing and hiding the sidebar, and add overlay effect
function w3_open() {
    if (mySidebar.style.display === 'block') {
        mySidebar.style.display = 'none';
        overlayBg.style.display = "none";
    } else {
        mySidebar.style.display = 'block';
        overlayBg.style.display = "block";
    }
}

// Close the sidebar with the close button
function w3_close() {
    mySidebar.style.display = "none";
    overlayBg.style.display = "none";
}

// Slideshow Apartment Images
var slideIndex = 1;
showDivs(slideIndex);

function plusDivs(n) {
  showDivs(slideIndex += n);
}

function currentDiv(n) {
  showDivs(slideIndex = n);
}

function change_camera(n) {
	var par = document.getElementById("view_description");
	switch(n) {
		case 1: camera = camera1; par.innerHTML="3D View"; controls.enabled=true; break;
		case 2: camera = camera2; par.innerHTML="Point"; controls.enabled=false; break;
		case 3: camera = camera3; par.innerHTML="Body"; controls.enabled=false; break;
		case 4: camera = camera4; par.innerHTML="Clip"; controls.enabled=false; break;
		default: camera = camera1;
	}
	showDivs(n);
}

function zoom(n, dist) {
	switch(n) {
		case 1: camera1.position.setLength(camera.startDist-dist); camera1.updateProjectionMatrix(); break;
		case 2: camera2.zoom = dist; camera2.updateProjectionMatrix(); break;
		case 3: camera3.zoom = dist; camera3.updateProjectionMatrix(); break;
		case 4: camera4.zoom = dist; camera4.updateProjectionMatrix(); break;
		default:
	}
}

function showDivs(n) {
  var i;
  var x = document.getElementsByClassName("slidecontainer");
  var dots = document.getElementsByClassName("demo");
  if (n > x.length) {slideIndex = 1}
  if (n < 1) {slideIndex = x.length}
  for (i = 0; i < x.length; i++) {
     x[i].style.display = "none";
  }
  x[n-1].style.display = "block";
}

function cameraReset() {
	camera1.position.z = 70;
	camera1.position.y = 70;
	camera1.position.x = 0;
	//camera1.rotation.x = 0;
	//camera1.rotation.y = 0;
	//camera1.rotation.z = 0;
	camera.zoom = 1;
	camera.updateProjectionMatrix();
}

var colors = Array();
colors['red'] =	new THREE.Vector3(1., 0., 0.);
colors['green'] = new THREE.Vector3(0., 1., 0.);
colors['dark-blue'] = new THREE.Vector3(0., 0., .5);
colors['blue'] = new THREE.Vector3(0., 0., 1.);
colors['orange'] = new THREE.Vector3(1., .5, 0.);
colors['black'] = new THREE.Vector3(0., 0., 0.);
colors['cyan'] = new THREE.Vector3(.0, 1., 1.);
colors['white'] = new THREE.Vector3(1., 1., 1.);
colors['purple'] = new THREE.Vector3(.6, 0., .8);
colors['yellow'] = new THREE.Vector3(1., 1., 0.);
colors['pink'] = new THREE.Vector3(1., 0., .5);

function changeCol(n, colName) {
	switch(n){
		case 0: bodyParts_uniforms.surfCdiff.value = colors[colName]; break;
		case 1: accentParts_uniforms.surfCdiff.value = colors[colName]; break;
		case 2: ballpoint_uniforms.surfCdiff.value = colors[colName]; break;
	}
}

function changeMaterial(n){
	switch(n){
		case 0:
			var selector= document.getElementById('bodyMat');
			var itemvalue= selector.options[selector.selectedIndex].text;
			if (itemvalue==='Plastic') {
				Object.assign(bodyParts_uniforms, uniforms_plastic);
				body_price = 1.0;
			}
			if (itemvalue==='Woven') {
				Object.assign(bodyParts_uniforms, uniforms_fabric);
				body_price = 3.0;
			}
			if (itemvalue==='Metal') {
				Object.assign(bodyParts_uniforms, uniforms_smoothMetal);
				body_price = 2.0;
			}
			if (itemvalue==='Wood') {
				Object.assign(bodyParts_uniforms, uniforms_wood);
				body_price = 4.0;
			}
			document.getElementById("body_material_price").innerHTML = itemvalue + "<br><strong class='w3-text-green w3-xlarge'>" + body_price.toFixed(2) + " €</strong>";
			break;
		case 1:
			var selector= document.getElementById('accentMat');
			var itemvalue= selector.options[selector.selectedIndex].text;
			if (itemvalue==='Plastic') {
				Object.assign(accentParts_uniforms, uniforms_plastic);
				point_price = 0.5;
			}
			if (itemvalue==='Metal') {
				Object.assign(accentParts_uniforms, uniforms_smoothMetal);
				point_price = 0.6;
			}
			if (itemvalue==='Wood') {
				Object.assign(accentParts_uniforms, uniforms_wood);
				point_price = 1.0;
			}
			document.getElementById("point_material_price").innerHTML = itemvalue + "<br><strong class='w3-text-green w3-xlarge'>" + point_price.toFixed(2) + " €</strong>";
			break;
	}
	calculate_price();
}

function calculate_price(){
	var selector = document.getElementById('quantity');
	var qty= selector.options[selector.selectedIndex].text;
	document.getElementById("total_price").innerHTML = ((body_price+point_price)*qty).toFixed(2) + " €";
}
	

</script>

</body>
</html>
